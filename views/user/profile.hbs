<div class="container">
    <div class="profileset">
        <h1>帳戶資訊</h1>
        <hr>
        <h2>歷史訂單</h2>
        {{#each orders}}
        <div class="container">
            <div class="card border-success">
                <div class="card-header orderhead">
                    <div>訂單編號:{{this._id}}</div>
                    <div>訂單總金額: $ {{this.cart.totalPrice }}</div>
                </div>
                <div class="card-body">
                    <div>訂單日期:{{this.date}}</div>
                    <div>配送方式:{{this.shipping}}</div>
                    <div>付款方式:{{this.howpay}}</div>
                    <div>收件人:{{this.name}}</div>
                    <div>收件地址:{{this.city}}{{this.Area}}{{this.address}}</div>
                    <div>收件人電話:{{this.phone}}</div>

                </div>
                <div class="container probt">

                    <button type="button" class="btn btn-outline-success" name="productbtn"
                        value="{{this._id}}">商品詳情</button>

                    <p></p>

                    <div class="card border-warning productlist" name="productlist" id="{{this._id}}"
                        style="display: none;">
                        <ul class="list-group">
                            {{#each this.items}}
                            <li class="list-group-item">
                                <span style="width: 15vh;">
                                    <img src="{{this.item.imagePath}}" alt="" style="width: 15vh;">
                                </span>

                                {{this.item.title}} X {{this.qty}}

                                <span class="badge">{{this.price}}</span>
                            </li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <p></p>
    {{/each}}
</div>


<script>


    $.each($("button[name=productbtn]"), function () {
        $(this).on("click", function () {
            // --- 推薦(程式跑起來瀏覽器按F12會開啟開發者工具)
            // --- 執行click 程式會停在這
            // --- 測試完畢好習慣要把debugger;拿掉----感恩我完全不知道有這功能^^
            // --- 往下跑就可以看到id的值
            var id = $(this).val();
            // --- 不建議用console.log
            console.log('點按鈕了', id);


            $("div[name=productlist]").hide(function () {

                var id2 = this.id;

                console.log('明細', id2);

                if (id == id2) {

                    $(this).slideDown();

                }



            });

        });
    });





</script>